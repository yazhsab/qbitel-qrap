---
import SectionHeading from './SectionHeading.astro';
---

<section class="py-24 px-6 relative">
  <div class="max-w-7xl mx-auto">
    <SectionHeading
      id="architecture"
      title="Built for Scale"
      subtitle="A polyglot architecture combining Go performance, Python ML, and React interactivity"
    />

    <!-- Architecture Diagram -->
    <div class="max-w-3xl mx-auto mb-16" data-animate>
      <!-- Client Layer -->
      <div class="flex justify-center mb-1">
        <div class="arch-node border-t-cyan-400">
          <div class="w-9 h-9 rounded-lg bg-cyan-500/10 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="14" rx="2"/><path d="M7 21h10M12 17v4"/></svg>
          </div>
          <div class="flex-1 min-w-0">
            <div class="font-semibold text-white text-sm">Web Dashboard</div>
            <div class="text-xs text-[var(--color-text-muted)]">React 19 + Vite 6</div>
          </div>
          <div class="text-xs font-mono text-brand-400">:3002</div>
        </div>
      </div>

      <!-- Connector -->
      <div class="arch-flow"><div class="arch-line"></div><span>REST / HTTP</span><div class="arch-arrow"></div></div>

      <!-- API Layer -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-1">
        <div class="arch-node border-t-green-400">
          <div class="w-9 h-9 rounded-lg bg-green-500/10 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h8"/></svg>
          </div>
          <div class="flex-1 min-w-0">
            <div class="font-semibold text-white text-sm">Go REST API</div>
            <div class="text-xs text-[var(--color-text-muted)]">Chi v5 Â· Auth Â· CORS Â· Rate Limit</div>
          </div>
          <div class="text-xs font-mono text-brand-400">:8083</div>
        </div>
        <div class="arch-node border-t-amber-400">
          <div class="w-9 h-9 rounded-lg bg-amber-500/10 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-amber-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.3 24.3 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.3 48.3 0 0 1 12 21a48.3 48.3 0 0 1-8.135-.687c-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"/></svg>
          </div>
          <div class="flex-1 min-w-0">
            <div class="font-semibold text-white text-sm">Python ML Engine</div>
            <div class="text-xs text-[var(--color-text-muted)]">FastAPI Â· Risk Scorer Â· HNDL Â· Migration</div>
          </div>
          <div class="text-xs font-mono text-brand-400">:8084</div>
        </div>
      </div>

      <!-- Connector -->
      <div class="arch-flow"><div class="arch-line"></div><span>SQL / HTTP</span><div class="arch-arrow"></div></div>

      <!-- Data Layer -->
      <div class="flex justify-center">
        <div class="arch-node border-t-blue-400">
          <div class="w-9 h-9 rounded-lg bg-blue-500/10 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4.03 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5"/></svg>
          </div>
          <div class="flex-1 min-w-0">
            <div class="font-semibold text-white text-sm">PostgreSQL 16</div>
            <div class="text-xs text-[var(--color-text-muted)]">organizations Â· assessments Â· findings Â· audit_log</div>
          </div>
          <div class="text-xs font-mono text-brand-400">:5432</div>
        </div>
      </div>
    </div>

    <!-- Component Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
      <div class="glass-card-hover p-6 text-center stagger-1" data-animate>
        <div class="w-12 h-12 rounded-xl bg-sky-500/10 flex items-center justify-center mx-auto mb-4">
          <span class="text-2xl">âš¡</span>
        </div>
        <h3 class="font-bold text-white mb-2">Go API Server</h3>
        <p class="text-sm text-[var(--color-text-muted)]">Chi v5 router with middleware pipeline â€” auth, rate limiting, CORS, and security headers</p>
      </div>

      <div class="glass-card-hover p-6 text-center stagger-2" data-animate>
        <div class="w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center mx-auto mb-4">
          <span class="text-2xl">ðŸ§ </span>
        </div>
        <h3 class="font-bold text-white mb-2">Python ML Engine</h3>
        <p class="text-sm text-[var(--color-text-muted)]">FastAPI with scikit-learn for risk scoring, HNDL calculations, and migration planning</p>
      </div>

      <div class="glass-card-hover p-6 text-center stagger-3" data-animate>
        <div class="w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center mx-auto mb-4">
          <span class="text-2xl">ðŸ“Š</span>
        </div>
        <h3 class="font-bold text-white mb-2">React Dashboard</h3>
        <p class="text-sm text-[var(--color-text-muted)]">React 19 + TypeScript SPA for real-time risk visualization and assessment management</p>
      </div>
    </div>
  </div>
</section>
